{"version":3,"sources":["avatars/avatar_medieval.jpg","heart-black.svg","avatars/avatar_dog.jpg","avatars/avatar_lenny.png","avatars/avatar_boy.jpg","components/ModalDetector.js","components/Modal.js","utilities.js","components/Timer.js","components/GameOverMessages.js","components/Comment.js","components/Post.js","components/AvatarSelection.js","components/FunpageBar.js","components/JokeOptions.js","components/WelcomeMessage.js","components/Author.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ModalOpenContext","React","createContext","ModalDetector","props","_useState","useState","_useState2","Object","slicedToArray","modalOpen","setModalOpen","react_default","a","createElement","Provider","value","open","children","Modal","ModalBody","modalState","setModalState","hideModal","e","arguments","length","undefined","type","keyCode","useContext","useEffect","document","addEventListener","removeEventListener","Fragment","CSSTransition","in","unmountOnExit","timeout","classNames","onClick","className","onExited","setHideState","assign","formatDate","time","Math","floor","giveRandom","min","max","random","capFirstLetter","string","charAt","toUpperCase","slice","shuffle","array","temporaryValue","randomIndex","currentIndex","TimeContext","progress","Timer","gameStarted","interval","setInterval","setProgress","clearInterval","WinMessageWithModal","WinMessage","LoseMessageWithModal","followers","LoseMessage","followersAtLose","setFollowersAtLose","GameOverMessage","_useState3","_useState4","progressAtWin","setProgressAtWin","substring","modal","useRef","current","focus","ref","tabIndex","ContactInfo","href","Comment","comment","setComment","Date","now","creationTime","setCreationTime","_useState5","_useState6","commentText","setCommentText","order","setTimeout","isRight","commentsTexts","goodComments","badComments","randomUsers","setRandomUsers","setCommentsCount","objectSpread","commentsCount","defineProperty","id","key","name","first","last","alt","src","picture","thumbnail","HeartsCounter","hearts","setHearts","build_default","duration","easingFn","t","b","c","d","cos","PI","end","CommentCounter","Hashtags","hashtags","setHashtags","twoLongestWords","text","match","sort","map","word","toLowerCase","join","ShowDate","datePublished","AvatarSelection","loadingImage","setLoadingImage","chooseAvatar","av","setAvatar","avatars","img","avatarMedieval","avatarBoy","avatarDog","avatarLenny","AvatarOption","avatar","currentAvatar","accept","onChange","file","reader","FileReader","onload","result","readAsDataURL","showImage","target","files","htmlFor","AvatarSelectionWithModal","FunpageBar","onKeyDown","setShowAvatarModal","TrendingStatus","history","start","heartIcon","desc","class","status","setStatus","balance","reduce","acc","val","_i","_statusTable","Infinity","emoji","range","JokeOptions","jokesList","setJokes","chosenJoke","setChosenJoke","ready","setReady","_useState7","_useState8","renderedAt","setRenderedAt","_useState9","_useState10","transitionTime","setTransitionTime","_useState11","_useState12","setup","setSetup","setJokesList","elems","elemsLeft","colWidth","querySelector","getBoundingClientRect","width","counter","newOrder","_loop","newLine","createLine","allElems","combined","posWidths","combinations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","otherEl","indexOf","newComb","concat","toConsumableArray","newWidth","currEl","results","push","err","return","offsetWidth","apply","_loop2","i","filter","item","jokesMasonry","Array","from","querySelectorAll","postID","joke","Punchline","punchline","disabled","num","timePassed","adjustFollowers","newPost","title","date","addPost","postsList","window","scrollTo","top","left","behavior","setPostID","choosePunchline","btnClass","WelcomeMessage","setGameStarted","Author","Feed","gameNotFinished","setGameNotFinished","_useState13","_useState14","setFollowers","_useState15","_useState16","setHistory","_useState17","_useState18","_useState19","_useState20","showAvatarModal","_useState21","_useState22","fetchingJokes","setFetchingJokes","_useState23","_useState24","fetchingUsers","setFetchingUsers","_useState25","_useState26","jokesAPIPages","setJokesApiPages","_useState27","_useState28","_useState29","_useState30","v","k","fetchJokes","page","Promise","resolve","reject","fetch","headers","Accept","then","res","json","createJokesList","catch","pop","setupText","components_AvatarSelection","InstructionsOnEmpty","TransitionGroup","component","post","newFollowers","round","splice","jokes","jokeSplit","App","Boolean","location","hostname","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.ae5382ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar_medieval.e3fbe543.jpg\";","module.exports = __webpack_public_path__ + \"static/media/heart-black.56abafb1.svg\";","module.exports = __webpack_public_path__ + \"static/media/avatar_dog.e79ac75a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar_lenny.b80ddd8a.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar_boy.9f9cbc03.jpg\";","import React, {  useState } from 'react';\r\n\r\nconst ModalOpenContext = React.createContext({});\r\n\r\nfunction ModalDetector(props) {\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n\r\n\r\n    return (\r\n        <ModalOpenContext.Provider value={{ open: modalOpen, setModalOpen: setModalOpen }}>\r\n            {props.children}\r\n        </ModalOpenContext.Provider>\r\n    )\r\n}\r\n\r\nexport { ModalOpenContext, ModalDetector };","import React, { useState, useEffect, useContext } from 'react';\r\nimport { ModalOpenContext } from \"./ModalDetector\"\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nfunction Modal(ModalBody, props) {\r\n\r\n    const [modalState, setModalState] = useState(false);\r\n    useContext(ModalOpenContext).setModalOpen(modalState);\r\n\r\n    function hideModal(e = false) {\r\n        if (e.type !== \"keydown\" || e.keyCode === 27) {\r\n            setModalState(false);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setModalState(true);\r\n        document.addEventListener(\"keydown\", hideModal, false);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", hideModal, false)\r\n        };\r\n    }, []);\r\n\r\n    function answerAfterExit() {\r\n        if (\"setHideState\" in props) {\r\n            props.setHideState(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition in={modalState} unmountOnExit timeout={300} classNames={\"modal__background-\"}>\r\n                <div onClick={hideModal} className=\"modal__background\"></div>\r\n            </CSSTransition>\r\n            <CSSTransition in={modalState} onExited={answerAfterExit} unmountOnExit timeout={300} classNames={\"modal-\"}>\r\n                <ModalBody setModalState={setModalState} {...props} />\r\n            </CSSTransition >\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Modal;","export function formatDate(time) {\r\n  if (time === 0) {\r\n    return \"Just now\";\r\n  } else if (time === 1) {\r\n    return \"1 hour ago\";\r\n  } else if (time < 24) {\r\n    return time + \" hours ago\";\r\n  } else if (time >= 24 && time < 48) {\r\n    return \"1 day ago\";\r\n  } else {\r\n    return Math.floor(time / 24) + \" days ago\";\r\n  }\r\n}\r\n\r\nexport function giveRandom(min, max) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport function capFirstLetter(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport function shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n  while (0 !== currentIndex) {\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n  return array;\r\n}","import React, { useEffect } from 'react';\r\n\r\nconst TimeContext = React.createContext({ progress: 0 });\r\n\r\nfunction Timer(props) {\r\n    useEffect(() => {\r\n        if (props.gameStarted) {\r\n            const interval = setInterval(() => {\r\n                props.setProgress(progress => progress + 1);\r\n            }, 1000);\r\n            return () => {\r\n                clearInterval(interval);\r\n            };\r\n        }\r\n    }, [props.gameStarted]);\r\n\r\n    return (\r\n        <TimeContext.Provider value={{ progress: props.progress }}>\r\n            {props.children}\r\n        </TimeContext.Provider>\r\n    )\r\n}\r\n\r\nexport { TimeContext, Timer };","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport Modal from \"./Modal\";\r\nimport { formatDate } from \"../utilities\";\r\nimport { TimeContext } from \"./Timer\"\r\n\r\nfunction WinMessageWithModal(props) {\r\n    if (useContext(TimeContext).progress <= 168) {\r\n        return Modal(WinMessage, props)\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction LoseMessageWithModal(props) {\r\n    if (props.followers < 1000) {\r\n        return Modal(LoseMessage, props);\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction LoseMessage(props) {\r\n    const [followersAtLose, setFollowersAtLose] = useState(0);\r\n    useEffect(() => {\r\n        setFollowersAtLose(props.followers);\r\n    }, []);\r\n    return (\r\n        <GameOverMessage setModalState={props.setModalState}>\r\n            <h2 className=\"game-over-message__heading\">Oh no, it's been a week already and you lack <span className=\"game-over-message__important\">{1000 - followersAtLose} followers</span>!</h2>\r\n            <p className=\"game-over-message__text\">You didn't meet the requirements, but feel free to keep improving your joking skills here. We leave the funpage to you.</p>\r\n        </GameOverMessage>\r\n    )\r\n}\r\n\r\nfunction WinMessage(props) {\r\n    const progress = useContext(TimeContext).progress\r\n    const [progressAtWin, setProgressAtWin] = useState(0);\r\n    useEffect(() => {\r\n        setProgressAtWin(progress);\r\n    }, []);\r\n    return (\r\n        <GameOverMessage setModalState={props.setModalState}>\r\n            <h2 className=\"game-over-message__heading\">Whoa, you've reached the goal in <span className=\"game-over-message__important\">{formatDate(progressAtWin).substring(0, formatDate(progressAtWin).length - 4)}</span>!</h2>\r\n            <p className=\"game-over-message__text\">Congratulations, you've assured us that we leave the funpage in good hands. It's all yours – you're the perfect admin we were looking for.</p>\r\n        </GameOverMessage>\r\n    )\r\n}\r\n\r\nfunction GameOverMessage(props) {\r\n\r\n    const modal = useRef(null);\r\n    useEffect(() => {\r\n        modal.current.focus();\r\n    }, []);\r\n\r\n    return (\r\n        <section ref={modal} tabIndex={-1} className=\"game-over-message\">\r\n            {props.children}\r\n            <p className=\"game-over-message__text\">Thank you for playing!</p>\r\n            <ContactInfo />\r\n            <button className=\"game-over-message__close-button\" onClick={() => props.setModalState(false)}>Close</button>\r\n        </section>\r\n    )\r\n}\r\n\r\nfunction ContactInfo() {\r\n    return (\r\n        <>\r\n            <p className=\"game-over-message__contact-text\">If you would like to take a look into this project's code – the github is <a href=\"https://github.com/Sentkowski/Admin-Jokes\">here</a>. Code review is more than welcome.</p>\r\n            <p className=\"game-over-message__contact-text\">In case you would like to reach out to me to share your thoughts, mail me at <a href=\"mailto:szymon.sew.sentkowski@gmail.com\">szymon.sew.sentkowski@gmail.com</a></p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport { WinMessageWithModal, LoseMessageWithModal };","import React, { useState, useEffect } from 'react';\r\nimport { giveRandom, capFirstLetter } from \"../utilities.js\";\r\nimport commentsTexts from '../comments.json';\r\n\r\nexport default function Comment(props) {\r\n    const [comment, setComment] = useState(false);\r\n    const [creationTime, setCreationTime] = useState(Date.now());\r\n    const [commentText, setCommentText] = useState(\"\");\r\n    useEffect(() => {\r\n        if (props.order === 2 && Math.random() > 0.5) {\r\n            return undefined;\r\n        }\r\n        setCreationTime(Date.now());\r\n        setTimeout(() => {\r\n            setCommentText((props.isRight) ? commentsTexts.goodComments[giveRandom(0, commentsTexts.goodComments.length)] : commentsTexts.badComments[giveRandom(0, commentsTexts.badComments.length)]);\r\n            setComment(props.randomUsers[props.order - 1]);\r\n            props.setRandomUsers(props.randomUsers.slice(props.order));\r\n            props.setCommentsCount({ ...props.commentsCount, [props.id]: props.order });\r\n        }, Math.max(creationTime + 1000 + props.order * 500 - Date.now(), 0))\r\n    }, []);\r\n    return (!comment) ? (null) : (\r\n        <>\r\n            <li className=\"comment\" key={comment.name.first + comment.name.last}>\r\n                <img className=\"comment__photo\" alt=\"Commenter's avatar.\" src={comment.picture.thumbnail} />\r\n                <div className='comment__texts-container'>\r\n                    <p className=\"comment__text\">{commentText}</p>\r\n                    <p className=\"comment__name\">{capFirstLetter(comment.name.first)} {capFirstLetter(comment.name.last)}</p>\r\n                </div>\r\n            </li>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport CountUp from 'react-countup';\r\nimport Comment from \"./Comment\";\r\nimport { giveRandom, formatDate } from \"../utilities.js\";\r\nimport heartIcon from '../heart-black.svg';\r\nimport { TimeContext } from \"./Timer\"\r\n\r\nexport default function Post(props) {\r\n    return (\r\n        <CSSTransition key={props.title} in={true} timeout={400} classNames=\"post\">\r\n            <li className='post' key={props.title}>\r\n                <div className=\"post__container\">\r\n                    <header className=\"post__header\">\r\n                        <img onClick={() => props.setShowAvatarModal(true)} src={props.avatar} className='post__avatar' alt=\"Admin's page avatar.\" />\r\n                        <h2 className='post__title'>{props.title}</h2>\r\n                        <Hashtags text={props.text} />\r\n                    </header>\r\n                    <p className='post__text'>{props.text}</p>\r\n                    <ShowDate />\r\n                    <div className=\"post__reactions\">\r\n                        <HeartsCounter isRight={props.isRight} />\r\n                        <img src={heartIcon} className='post__heart-icon' alt=\"Icon of a heart.\" />\r\n                        <CommentCounter commentsCount={props.commentsCount} id={props.id} />\r\n                    </div>\r\n                </div>\r\n                <TransitionGroup className=\"post__comments-list\" component='ul'>\r\n                    <Comment id={props.id} isRight={props.isRight} randomUsers={props.randomUsers} setRandomUsers={props.setRandomUsers} commentsCount={props.commentsCount} setCommentsCount={props.setCommentsCount} order={1} />\r\n                    <Comment id={props.id} isRight={props.isRight} randomUsers={props.randomUsers} setRandomUsers={props.setRandomUsers} commentsCount={props.commentsCount} setCommentsCount={props.setCommentsCount} order={2} />\r\n                </TransitionGroup>\r\n            </li>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nfunction HeartsCounter(props) {\r\n    const [hearts, setHearts] = useState(0);\r\n    useEffect(() => {\r\n        setHearts((props.isRight) ? giveRandom(15, 50) : giveRandom(0, 7));\r\n    }, [props.isRight]);\r\n    return (\r\n        <p className=\"post__hearts-counter\"><CountUp duration={3} easingFn={function (t, b, c, d) {\r\n            return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\r\n        }} end={hearts} /></p>\r\n    )\r\n}\r\n\r\nfunction CommentCounter(props) {\r\n    if (props.id in props.commentsCount && props.commentsCount[props.id] > 1) {\r\n        return <p className=\"post__comments-counter\">{props.commentsCount[props.id]} comments</p>\r\n    } else if (props.id in props.commentsCount) {\r\n        return <p className=\"post__comments-counter\">{props.commentsCount[props.id]} comment</p>\r\n    } else {\r\n        return <p className=\"post__comments-counter\">no comments</p>\r\n    }\r\n}\r\n\r\nfunction Hashtags(props) {\r\n    const [hashtags, setHashtags] = useState([]);\r\n    useEffect(() => {\r\n        const twoLongestWords = props.text.match(/\\w+/g).sort((a, b) => b.length - a.length).slice(0, 2);\r\n        setHashtags(twoLongestWords.map(word => \"#\" + word.toLowerCase()).join(\" \"));\r\n    }, [props.text]);\r\n    return (\r\n        <p className=\"post__hashtags\">{hashtags}</p>\r\n    )\r\n}\r\n\r\nfunction ShowDate() {\r\n    const [datePublished] = useState(useContext(TimeContext).progress);\r\n    const time = useContext(TimeContext).progress - datePublished;\r\n    return (\r\n        <p className='post__date'>{formatDate(time)}</p>\r\n    )\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport avatarMedieval from '../avatars/avatar_medieval.jpg';\r\nimport avatarDog from '../avatars/avatar_dog.jpg';\r\nimport avatarLenny from '../avatars/avatar_lenny.png';\r\nimport avatarBoy from '../avatars/avatar_boy.jpg';\r\nimport Modal from \"./Modal\";\r\n\r\nfunction AvatarSelection(props) {\r\n    const [loadingImage, setLoadingImage] = useState(false);\r\n\r\n    function showImage(file) {\r\n        setLoadingImage(true);\r\n        let reader = new FileReader();\r\n        reader.onload = function () {\r\n            setLoadingImage(false);\r\n            props.setAvatar(reader.result);\r\n            props.setModalState(false);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    function chooseAvatar(av) {\r\n        props.setAvatar(av);\r\n        props.setModalState(false);\r\n    }\r\n\r\n    const modal = useRef(null);\r\n    useEffect(() => {\r\n        modal.current.focus();\r\n    }, []);\r\n\r\n    const avatars = [{img: avatarMedieval, alt: \"Cropped medieval painting of a small child's serious face.\"},\r\n                     {img: avatarBoy, alt: \"A laughing boy.\"},\r\n                     {img: avatarDog, alt: \"A dog weraing sunglasses.\"},\r\n                     {img: avatarLenny, alt: \"Lennyface meme picture.\"}];\r\n\r\n    return (\r\n        <section ref={modal} tabIndex={-1} className=\"avatar-modal\">\r\n            <h2 className=\"avatar-modal__heading\" >Pick your new avatar!</h2>\r\n            <ul className=\"avatar-modal__avatars-list\">\r\n                {avatars.map(av => <AvatarOption chooseAvatar={chooseAvatar} avatar={av} currentAvatar={props.currentAvatar} key={av}/>)}\r\n                <li className=\"avatar-modal__avatar\">\r\n                    <input id=\"file\" className=\"avatar-modal__file-input\" type=\"file\" accept=\"image/*\" onChange={(e) => showImage(e.target.files[0])} />\r\n                    <label htmlFor=\"file\" className=\"avatar-modal__file-input-label\">{(loadingImage) ? \"Loading...\" : \"Choose from drive\"}</label>\r\n                    <small className=\"avatar-modal__file-input-note\">Don't worry, your picture will be seen only by hundreds of completely fake users.</small>\r\n                </li>\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n\r\nfunction AvatarSelectionWithModal(props) {\r\n    return Modal(AvatarSelection, props)\r\n}\r\n\r\nexport default AvatarSelectionWithModal;\r\n\r\nfunction AvatarOption(props) {\r\n    return (\r\n        <li className=\"avatar-modal__avatar\">\r\n        <img className=\"avatar-modal__image\" alt={props.avatar.alt} src={props.avatar.img} />\r\n        {(props.currentAvatar === props.avatar.img)\r\n            ? <button className=\"avatar-modal__choose-button avatar-modal__choose-button--chosen\">Chosen</button>\r\n            : <button onClick={() => props.chooseAvatar(props.avatar.img)} className=\"avatar-modal__choose-button\">Choose</button>}\r\n        </li>\r\n    )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport CountUp from 'react-countup';\r\nimport heartIcon from '../heart-black.svg';\r\nimport { TimeContext } from \"./Timer\"\r\nimport { ModalOpenContext } from \"./ModalDetector\";\r\n\r\n\r\nexport default function FunpageBar(props) {\r\n  return (\r\n    <header className=\"funpage-bar\">\r\n      <img tabIndex={!useContext(ModalOpenContext).open ? 0 : -1}\r\n           onKeyDown={(e) => { if (e.keyCode === 13) { props.setShowAvatarModal(true) } }}\r\n           onClick={() => props.setShowAvatarModal(true)} src={props.avatar}\r\n           className=\"funpage-bar__avatar\" alt=\"Admin's page avatar.\" />\r\n      <div className=\"funpage-bar__texts-container\">\r\n        <h1 className=\"funpage-bar__name\">The funniest Funpage</h1>\r\n        <div className=\"funpage-bar__bottom-container\">\r\n          <p className=\"funpage-bar__admin-note\">Hello, Admin</p>\r\n          <TrendingStatus history={props.history} />\r\n          <p className=\"funpage-bar__followers-number\">{props.gameStarted ? <CountUp duration={3} start={(props.followers >= 0) ? props.followers - props.history[4] : 0} end={props.followers} /> : props.followers}</p>\r\n          <img src={heartIcon} className=\"funpage-bar__followers-icon\" alt=\"Icon of a heart.\" />\r\n        </div>\r\n      </div>\r\n      <progress className=\"funpage-bar__time-progress\" value={168 - useContext(TimeContext).progress} max=\"168\"></progress>\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nfunction TrendingStatus(props) {\r\n  const [status, setStatus] = useState({\r\n    min: 101,\r\n    max: 300,\r\n    desc: \"Trending!\",\r\n    class: 'funpage-bar__trending-note--good',\r\n  });\r\n  useEffect(() => {\r\n    const balance = props.history.reduce((acc, val) => acc + val);\r\n    const statusTable = [\r\n      {\r\n        min: -Infinity,\r\n        max: -250,\r\n        desc: \"Going down!\",\r\n        class: 'very-bad',\r\n        emoji: \"😖\",\r\n      },\r\n      {\r\n        min: -249,\r\n        max: -100,\r\n        desc: \"Losing followers\",\r\n        class: 'bad',\r\n        emoji: \"😧\",\r\n      },\r\n      {\r\n        min: -99,\r\n        max: 100,\r\n        desc: \"\",\r\n        class: 'neutral',\r\n        emoji: \"\",\r\n      },\r\n      {\r\n        min: 101,\r\n        max: 300,\r\n        desc: \"Trending!\",\r\n        class: 'good',\r\n        emoji: \"😂\",\r\n      },\r\n      {\r\n        min: 301,\r\n        max: Infinity,\r\n        desc: \"Going viral!\",\r\n        class: 'very-good',\r\n        emoji: \"🤣\",\r\n      },\r\n    ]\r\n    for (let range of statusTable) {\r\n      if (balance >= range.min && balance <= range.max) {\r\n        setStatus(range);\r\n      }\r\n    }\r\n  }, [props.history]);\r\n  return (\r\n    <>\r\n      <p className={\"funpage-bar__trending-note funpage-bar__trending-note--\" + status.class}>\r\n        <span className=\"funpage-bar__emoji\">{status.emoji}</span> {status.desc}\r\n      </p>\r\n    </>\r\n  )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { ModalOpenContext } from \"./ModalDetector\";\r\nimport { giveRandom } from \"../utilities.js\"\r\n\r\nexport default function JokeOptions(props) {\r\n    const [jokesList, setJokes] = useState([]);\r\n    const [chosenJoke, setChosenJoke] = useState(false);\r\n    const [ready, setReady] = useState(false);\r\n    const [renderedAt, setRenderedAt] = useState();\r\n    const [transitionTime, setTransitionTime] = useState(Date.now());\r\n    const [setup, setSetup] = useState(giveRandom(0, 5));\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setSetup(giveRandom(0, 5));\r\n            setJokes(props.jokesList.slice(0, 5));\r\n            props.setJokesList(props.jokesList.slice(5));\r\n            setReady(true);\r\n            jokesMasonry(Array.from(document.querySelectorAll(\".new-post__punchline\")));\r\n            setRenderedAt(Date.now());\r\n        }, Math.max(transitionTime + 1000 - Date.now(), 0));\r\n    }, [props.postID]);\r\n\r\n    return (\r\n        <section tabIndex={!useContext(ModalOpenContext).open ? -1 : null} className={ready ? \"new-post\" : \"new-post new-post--hidden\"}>\r\n            {(jokesList.length > 1) &&\r\n                <>\r\n                    <p className=\"new-post__setup\">{jokesList[setup].setup}</p>\r\n                    <ul className=\"new-post__punchlines-list\">\r\n                        {jokesList.map((joke, i) => <Punchline key={joke.punchline} order={i} chosenJoke={chosenJoke} setChosenJoke={setChosenJoke} punchline={joke.punchline}/>)}\r\n                    </ul>\r\n                </>\r\n            }\r\n            <button className=\"new-post__add-post-button\"\r\n                    disabled={chosenJoke === false}\r\n                    onClick={() => choosePunchline(chosenJoke)}\r\n                    tabIndex={!useContext(ModalOpenContext).open ? 0 : -1}>\r\n            +</button>\r\n        </section>\r\n    )\r\n\r\n    function choosePunchline(num) {\r\n        setChosenJoke(false);\r\n        const timePassed = Date.now() - renderedAt;\r\n        const isRight = (jokesList[setup] === jokesList[num]);\r\n        props.adjustFollowers(isRight, timePassed);\r\n        const newPost = {\r\n            title: 'Joke #' + (props.postID + 1) + '!',\r\n            text: jokesList[setup].setup + ' ' + jokesList[num].punchline,\r\n            date: 'Just now',\r\n            id: props.postID + 1,\r\n            isRight: isRight,\r\n        };\r\n        props.addPost([newPost, ...props.postsList]);\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n        });\r\n        setReady(false);\r\n        setTransitionTime(Date.now());\r\n        props.setPostID(props.postID + 1);\r\n    }\r\n\r\n    function jokesMasonry(elems) {\r\n        let elemsLeft = elems.slice(0)\r\n        const colWidth = document.querySelector(\".new-post__punchlines-list\").getBoundingClientRect().width;\r\n        let counter = 0;\r\n        let newOrder = [];\r\n        while (elemsLeft.length > 0) {\r\n            const newLine = createLine(elemsLeft, [], colWidth)[1];\r\n            for (let i = 0; i < newLine.length; i++ , counter++) {\r\n                newOrder.push(elems.indexOf(newLine[i]));\r\n                elemsLeft = elemsLeft.filter(item => item !== newLine[i]);\r\n            }\r\n        }\r\n        setJokes(newOrder.map(i => props.jokesList.slice(0, 5)[i]));\r\n        document.querySelector(\".new-post\").focus()\r\n    }\r\n}\r\n\r\nfunction createLine(allElems, combined, max) {\r\n    let posWidths = [];\r\n    let combinations = [];\r\n    for (let otherEl of allElems) {\r\n        if (combined.indexOf(otherEl) === -1) {\r\n            const newComb = [...combined, otherEl]\r\n            const newWidth = newComb.reduce((acc, currEl) => acc + currEl.getBoundingClientRect().width, 0);\r\n            if (newWidth <= max) {\r\n                const results = createLine(allElems, newComb, max);\r\n                posWidths.push(results[0]);\r\n                combinations.push(results[1]);\r\n            } else if (newWidth === max) {\r\n                return [newWidth, newComb];\r\n            }\r\n        }\r\n    }\r\n    if (combinations.length === 0) {\r\n        return [combined.reduce((acc, currEl) => acc + currEl.offsetWidth, 0), combined];\r\n    } else {\r\n        return [Math.max(...posWidths), combinations[posWidths.indexOf(Math.max(...posWidths))]];\r\n    }\r\n}\r\n\r\nfunction Punchline(props) {\r\n    const btnClass = \"new-post__punchlines-button\";\r\n    const chosenBtnClass = \"new-post__punchlines-button--chosen\";\r\n\r\n    return (\r\n        <li className=\"new-post__punchline\">\r\n            <button  tabIndex={!useContext(ModalOpenContext).open ? 0 : -1}\r\n                     className={props.chosenJoke === props.order ? btnClass + ' ' +  chosenBtnClass : btnClass}\r\n                     onClick={() => props.setChosenJoke(props.order)}>{props.punchline}\r\n            </button>\r\n        </li>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function WelcomeMessage(props) {\r\n    return (\r\n        <section className=\"welcome-message\">\r\n            <div className=\"welcome-message__container\">\r\n                <h2 className=\"welcome-message__heading\">Welcome!</h2>\r\n                <p className=\"welcome-message__text\">This is your kingdom, Admin. We've set things up for you, but if you wish, you can change this avatar – tap on it. 🎯</p>\r\n                <p className=\"welcome-message__text welcome-message__text--last\">Remember the deal, right?</p>\r\n            </div>\r\n            <ul className=\"welcome-message__conditions-list\">\r\n                <li className=\"welcome-message__condition\">\r\n                    <p className=\"welcome-message__condition-text\">Get us to 1000 followers and you're hired.</p>\r\n                </li>\r\n                <li className=\"welcome-message__condition\">\r\n                    <p className=\"welcome-message__condition-text\">Guess what happens if you leave us with&nbsp;0...</p>\r\n                </li>\r\n                <li className=\"welcome-message__condition\">\r\n                    <p className=\"welcome-message__condition-text\">You have ONE week.</p>\r\n                </li>\r\n            </ul>\r\n            <ul></ul>\r\n            <button onClick={() => props.setGameStarted(true)} className=\"welcome-message__start-button\">Let the joking begin</button>\r\n        </section>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Author() {\r\n    return (\r\n        <footer className=\"author-footer\">\r\n            <p className=\"author-footer__text\">Created by <a  className=\"author-footer__link\" href=\"https://github.com/Sentkowski\">Szymon Sentkowski.</a></p>\r\n            <p className=\"author-footer__text\">Made possible thanks to two APIs: <a className=\"author-footer__link\" href=\"https://icanhazdadjoke.com/api\">icanhazdadjoke</a> and <a className=\"author-footer__link\" href=\"https://randomuser.me/\">randomuser</a>.</p>\r\n        </footer>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport './App.scss';\nimport avatarMedieval from './avatars/avatar_medieval.jpg';\nimport { WinMessageWithModal, LoseMessageWithModal } from \"./components/GameOverMessages\";\nimport Post from \"./components/Post\";\nimport AvatarSelectionWithModal from \"./components/AvatarSelection\";\nimport { Timer } from \"./components/Timer\";\nimport FunpageBar from \"./components/FunpageBar\";\nimport JokeOptions from \"./components/JokeOptions\";\nimport { ModalDetector } from \"./components/ModalDetector\";\nimport WelcomeMessage from \"./components/WelcomeMessage\";\nimport Author from \"./components/Author\";\nimport { shuffle, giveRandom } from \"./utilities.js\";\n\nfunction App() {\n  return (\n    <Feed />\n  );\n}\n\nfunction Feed() {\n  const [progress, setProgress] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gameNotFinished, setGameNotFinished] = useState(true);\n\n  const [postID, setPostID] = useState(0);\n  const [postsList, addPost] = useState([]);\n  const [commentsCount, setCommentsCount] = useState({});\n  const [followers, setFollowers] = useState(0);\n  const [history, setHistory] = useState([0, 0, 0, 0, 0]);\n  const [avatar, setAvatar] = useState(avatarMedieval);\n  const [showAvatarModal, setShowAvatarModal] = useState(false);\n\n  // API related\n  const [fetchingJokes, setFetchingJokes] = useState(false);\n  const [fetchingUsers, setFetchingUsers] = useState(false);\n  const [jokesAPIPages, setJokesApiPages] = useState([giveRandom(0, 11)]);\n  const [randomUsers, setRandomUsers] = useState([]);\n  const [jokesList, setJokesList] = useState([]);\n\n  useEffect(() => {\n    if (jokesAPIPages.length < 2) {\n      setJokesApiPages(shuffle(Array.from({length: 10}, (v, k) => k+1)));\n    }\n  })\n\n  useEffect(() => {\n    if (jokesList.length <= 10 && !fetchingJokes) {\n      setFetchingJokes(true);\n      fetchJokes(jokesAPIPages.pop())\n        .then(res => {\n          setJokesList([...jokesList, ...res]);\n          setFetchingJokes(false);\n        })\n        .catch(() => {\n          const setupText = \"Woops, looks like the API, I mean the creative process, failed this time. You can...\";\n          setJokesList([\n            {setup: setupText, punchline: \"Restart and hope for better luck.\"},\n            {setup: setupText, punchline: \"Blame the guy who made it.\"},\n            {setup: setupText, punchline: \"Let the guy who made it know that there is a problem! (recommended).\"},\n            {setup: setupText, punchline: \"Choose this option and try to get followers...\"},\n            {setup: setupText, punchline: \"Or choose this one. Each gives you 20% chance of being right!\"}\n          ]);\n          setFetchingJokes(false);\n        });\n    }\n  }, [jokesList]);\n\n  useEffect(() => {\n    if (randomUsers.length < 5 & !fetchingUsers) {\n      setFetchingUsers(true);\n      fetch(`https://randomuser.me/api/?inc=name,picture&nat=us,gb&results=30`)\n      .then(res => res.json())\n      .then(res => {\n        setRandomUsers([...randomUsers, ...res.results]);\n        setFetchingUsers(false);\n      })\n      .catch((e) => setFetchingUsers(false));\n    }\n  }, [randomUsers]);\n\n  return (\n    <main className={!gameStarted ? \"feed--no-posts\" : \"\"}>\n      <ModalDetector>\n        <Timer gameStarted={gameStarted} progress={progress} setProgress={setProgress}>\n          {showAvatarModal && <AvatarSelectionWithModal setHideState={setShowAvatarModal} setAvatar={setAvatar} currentAvatar={avatar}/>}\n          <FunpageBar avatar={avatar} setShowAvatarModal={setShowAvatarModal} followers={followers} gameStarted={gameStarted} history={history} />\n          {(gameNotFinished && (progress > 168 ||  followers >= 1000 )) && (followers >= 1000 ? (\n            <WinMessageWithModal setHideState={setGameNotFinished} />\n          ) : (\n            <LoseMessageWithModal followers={followers} setHideState={setGameNotFinished} />))}\n          <CSSTransition in={!gameStarted} unmountOnExit timeout={200} classNames=\"welcome-message\">\n            <WelcomeMessage setGameStarted={setGameStarted} />\n          </CSSTransition>\n          {gameStarted && <>\n            {!postsList.length && <InstructionsOnEmpty />}\n            <TransitionGroup className=\"posts-list\" component='ul'>\n              {postsList.map(post => Post({...post, setCommentsCount, commentsCount, followers, randomUsers, setRandomUsers, avatar, setShowAvatarModal}))}\n            </TransitionGroup>\n            <JokeOptions jokesList={jokesList} setJokesList={setJokesList} postID={postID} setPostID={setPostID} postsList={postsList} addPost={addPost} adjustFollowers={adjustFollowers}/>\n          </> }\n          {!gameStarted && <Author />}\n        </Timer>\n      </ModalDetector>\n    </main>\n  );\n\n  function adjustFollowers(isRight, timePassed) {\n    let newFollowers = Math.max(Math.round(100 - 0.005 * timePassed), 10);\n    if (!isRight && newFollowers > followers) {\n      newFollowers = followers;\n    }\n    if (isRight) {\n      setFollowers(followers + newFollowers);\n      setHistory([...history, newFollowers].splice(1,5));\n    } else {\n      setFollowers(followers - newFollowers);\n      setHistory([...history, newFollowers * -1 ].splice(1,5));\n    }\n  }\n}\n\n\nfunction fetchJokes(page) {\n  return new Promise ((resolve, reject) => {\n    fetch(`https://icanhazdadjoke.com/search?page=${page}&limit=${giveRandom(40, 50)}`, {\n      headers: {\n        Accept: \"application/json\"\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        if (!createJokesList(res.results)) {\n          resolve(fetchJokes());\n        } else {\n          resolve(createJokesList(res.results));\n        }\n      })\n      .catch(() => reject());\n  })\n}\n\nfunction createJokesList(json) {\n  let jokes = [];\n  for (let joke of json) {\n    let jokeSplit = joke.joke.match( /[^.!?]+[.!?]+/g );\n    if (jokeSplit && jokeSplit.length === 2) {\n      jokes.push({setup: jokeSplit[0], punchline: jokeSplit[1]});\n    }\n  }\n  jokes = jokes.slice(0, Math.floor(jokes.length / 5) * 5)\n  return (jokes.length >= 5) ? shuffle(jokes) : false;\n}\n\nfunction InstructionsOnEmpty() {\n  return (\n      <h2 className=\"instructions-message\">Choose the right punchline to get followers – be quick!</h2>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}